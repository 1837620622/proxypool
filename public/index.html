<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxy Pool - 高速代理池</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="ri-server-line"></i>
                    <span>ProxyPool</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-tab="dashboard">
                    <i class="ri-dashboard-line"></i>
                    <span data-i18n="dashboard">Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-tab="elite">
                    <i class="ri-vip-crown-line"></i>
                    <span data-i18n="eliteProxies">Elite Proxies</span>
                </a>
                <a href="#" class="nav-item" data-tab="normal">
                    <i class="ri-user-line"></i>
                    <span data-i18n="normalProxies">Normal Proxies</span>
                </a>
                <a href="#" class="nav-item" data-tab="all">
                    <i class="ri-list-check"></i>
                    <span data-i18n="allProxies">All Proxies</span>
                </a>
                <div class="nav-divider"></div>
                <a href="#" class="nav-item" data-tab="api">
                    <i class="ri-code-s-slash-line"></i>
                    <span data-i18n="apiDocs">API Docs</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="lang-switch">
                    <button id="lang-en" class="lang-btn">EN</button>
                    <button id="lang-zh" class="lang-btn active">中文</button>
                </div>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 顶部栏 -->
            <header class="topbar">
                <div class="topbar-title">
                    <h1 data-i18n="title">代理池仪表盘</h1>
                    <p class="subtitle" data-i18n="subtitle">高质量免费代理服务</p>
                </div>
                <div class="topbar-actions">
                    <button id="refresh-btn" class="btn btn-outline">
                        <i class="ri-refresh-line"></i>
                        <span data-i18n="refreshPool">刷新源</span>
                    </button>
                    <button id="check-btn" class="btn btn-primary">
                        <i class="ri-pulse-line"></i>
                        <span data-i18n="checkProxies">检测代理</span>
                    </button>
                </div>
            </header>

            <!-- 统计卡片 -->
            <section class="stats-section">
                <div class="stat-card total">
                    <div class="stat-icon">
                        <i class="ri-database-2-line"></i>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="total-count">0</span>
                        <span class="stat-label" data-i18n="totalProxies">代理总数</span>
                    </div>
                </div>
                <div class="stat-card elite">
                    <div class="stat-icon">
                        <i class="ri-vip-crown-line"></i>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="elite-count">0</span>
                        <span class="stat-label" data-i18n="eliteProxies">高速匿名</span>
                    </div>
                </div>
                <div class="stat-card normal">
                    <div class="stat-icon">
                        <i class="ri-user-line"></i>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="normal-count">0</span>
                        <span class="stat-label" data-i18n="normalProxies">普通代理</span>
                    </div>
                </div>
                <div class="stat-card status">
                    <div class="stat-icon" id="status-icon">
                        <i class="ri-checkbox-circle-line" id="status-icon-i"></i>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="status-indicator" data-i18n="ready">就绪</span>
                        <span class="stat-label" id="last-check-time">-</span>
                    </div>
                </div>
            </section>

            <!-- 检测进度条 -->
            <section class="progress-section hidden" id="progress-section">
                <div class="progress-info">
                    <span class="progress-label" data-i18n="checking">检测中...</span>
                    <span class="progress-text" id="progress-text">0/0 (0%)</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-bar-fill"></div>
                </div>
            </section>

            <!-- 筛选和操作区 -->
            <section class="filter-section">
                <div class="filters">
                    <div class="filter-item">
                        <label><i class="ri-global-line"></i></label>
                        <select id="country-filter">
                            <option value="" data-i18n="allCountries">所有国家</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label><i class="ri-shield-keyhole-line"></i></label>
                        <select id="protocol-filter">
                            <option value="" data-i18n="allProtocols">所有协议</option>
                            <option value="http">HTTP</option>
                            <option value="https">HTTPS</option>
                            <option value="socks4">SOCKS4</option>
                            <option value="socks5">SOCKS5</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label><i class="ri-speed-line"></i></label>
                        <select id="speed-filter">
                            <option value="" data-i18n="allSpeeds">所有速度</option>
                            <option value="fast" data-i18n="fast">快速</option>
                            <option value="good" data-i18n="good">良好</option>
                            <option value="slow" data-i18n="slow">较慢</option>
                        </select>
                    </div>
                    <div class="filter-item search">
                        <i class="ri-search-line"></i>
                        <input type="text" id="search-input" data-i18n-placeholder="searchIP" placeholder="搜索 IP...">
                    </div>
                </div>
                <div class="export-actions">
                    <button id="export-http" class="btn btn-sm" title="Export HTTP proxies">
                        <i class="ri-global-line"></i> HTTP
                    </button>
                    <button id="export-socks4" class="btn btn-sm" title="Export SOCKS4 proxies">
                        <i class="ri-shield-line"></i> SOCKS4
                    </button>
                    <button id="export-socks5" class="btn btn-sm" title="Export SOCKS5 proxies">
                        <i class="ri-shield-keyhole-line"></i> SOCKS5
                    </button>
                    <button id="export-elite" class="btn btn-sm btn-elite" title="Export Elite proxies">
                        <i class="ri-vip-crown-line"></i> <span data-i18n="exportElite">高速匿名</span>
                    </button>
                    <button id="export-all" class="btn btn-sm" title="Export all proxies">
                        <i class="ri-download-line"></i> <span data-i18n="exportAll">全部</span>
                    </button>
                </div>
            </section>

            <!-- 代理列表 -->
            <section class="table-section">
                <div class="table-header">
                    <span class="result-count">
                        <span id="filtered-count">0</span> <span data-i18n="results">条结果</span>
                    </span>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th data-i18n="ipAddress">IP 地址</th>
                                <th data-i18n="port">端口</th>
                                <th data-i18n="protocol">协议</th>
                                <th data-i18n="country">国家</th>
                                <th data-i18n="speed">速度</th>
                                <th data-i18n="latency">延迟</th>
                                <th data-i18n="action">操作</th>
                            </tr>
                        </thead>
                        <tbody id="proxy-list"></tbody>
                    </table>
                </div>
                <div id="loading" class="loading hidden">
                    <div class="spinner"></div>
                    <p data-i18n="loadingProxies">加载中...</p>
                </div>
                <div id="no-results" class="no-results hidden">
                    <i class="ri-inbox-line"></i>
                    <p data-i18n="noResults">未找到符合条件的代理</p>
                </div>
            </section>

            <!-- 分页 -->
            <section class="pagination">
                <button id="prev-page" class="btn-page" disabled>
                    <i class="ri-arrow-left-s-line"></i>
                </button>
                <span class="page-info">
                    <span id="current-page">1</span> / <span id="total-pages">1</span>
                </span>
                <button id="next-page" class="btn-page">
                    <i class="ri-arrow-right-s-line"></i>
                </button>
            </section>

            <!-- 页脚 -->
            <footer class="footer">
                <p>Vx: 1837620622 (传康kk) | Email: 2040168455@qq.com | B站/咸鱼: 万能程序员</p>
            </footer>
        </main>

        <!-- API 文档页面 -->
        <main class="main-content api-docs-page hidden" id="api-docs-page">
            <header class="topbar">
                <div class="topbar-title">
                    <h1 data-i18n="apiDocs">API 文档</h1>
                    <p class="subtitle">RESTful API 接口说明</p>
                </div>
            </header>

            <section class="api-docs">
                <div class="api-card">
                    <h3><i class="ri-bar-chart-line"></i> 获取统计信息</h3>
                    <code class="api-endpoint">GET /api/stats</code>
                    <p>返回代理池统计数据，包括总数、高速匿名数量、普通代理数量等。</p>
                </div>

                <div class="api-card">
                    <h3><i class="ri-list-check"></i> 获取代理列表</h3>
                    <code class="api-endpoint">GET /api/proxies</code>
                    <p>参数: <code>country</code>, <code>protocol</code>, <code>anonymity</code></p>
                </div>

                <div class="api-card">
                    <h3><i class="ri-vip-crown-line"></i> 获取高速匿名代理</h3>
                    <code class="api-endpoint">GET /api/elite?limit=all</code>
                    <p>返回所有经过检测的高速匿名代理。</p>
                </div>

                <div class="api-card">
                    <h3><i class="ri-user-line"></i> 获取普通代理</h3>
                    <code class="api-endpoint">GET /api/normal?limit=all</code>
                    <p>返回所有经过检测的普通代理。</p>
                </div>

                <div class="api-card">
                    <h3><i class="ri-download-line"></i> 导出代理</h3>
                    <code class="api-endpoint">GET /api/export</code>
                    <p>参数:</p>
                    <ul>
                        <li><code>protocol</code> - http, https, socks4, socks5</li>
                        <li><code>speed</code> - fast, good, slow</li>
                        <li><code>limit</code> - 数量或 "all"</li>
                        <li><code>format</code> - txt (默认) 或 json</li>
                    </ul>
                    <p>示例:</p>
                    <code class="api-example">/api/export?protocol=http&limit=all</code>
                    <code class="api-example">/api/export?protocol=socks5&speed=fast&limit=100</code>
                </div>

                <div class="api-card">
                    <h3><i class="ri-shuffle-line"></i> 获取随机代理</h3>
                    <code class="api-endpoint">GET /api/random</code>
                    <p>参数: <code>protocol</code>, <code>speed</code>, <code>count</code></p>
                </div>

                <div class="api-card">
                    <h3><i class="ri-refresh-line"></i> 刷新代理源</h3>
                    <code class="api-endpoint">POST /api/refresh</code>
                    <p>触发从所有代理源重新获取代理。</p>
                </div>

                <div class="api-card">
                    <h3><i class="ri-pulse-line"></i> 检测代理存活</h3>
                    <code class="api-endpoint">POST /api/check</code>
                    <p>触发后台检测所有代理的存活性。</p>
                </div>

                <div class="api-card">
                    <h3><i class="ri-loader-4-line"></i> 获取检测进度</h3>
                    <code class="api-endpoint">GET /api/check-progress</code>
                    <p>返回当前检测进度。</p>
                </div>
            </section>

            <footer class="footer">
                <p>Vx: 1837620622 (传康kk) | Email: 2040168455@qq.com | B站/咸鱼: 万能程序员</p>
            </footer>
        </main>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast hidden" data-i18n="copied">已复制到剪贴板！</div>

    <script src="app.js"></script>
</body>
</html>
