<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API 文档 - Proxy Pool</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-card: #16213e;
            --text-primary: #e4e4e7;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --accent: #6366f1;
            --success: #22c55e;
            --warning: #f59e0b;
            --border: #27272a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 3rem 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .header h1 i {
            color: var(--accent);
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .back-btn {
            position: fixed;
            top: 1.5rem;
            left: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.2s;
            z-index: 100;
        }

        .back-btn:hover {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        /* Base URL */
        .base-url {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .base-url h3 {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .base-url code {
            font-size: 1.25rem;
            color: var(--success);
            font-family: 'Monaco', 'Menlo', monospace;
        }

        /* API Section */
        .api-section {
            margin-bottom: 3rem;
        }

        .api-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--accent);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .api-section h2 i {
            color: var(--accent);
        }

        /* API Card */
        .api-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .api-card-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .method {
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .method.get {
            background: rgba(34, 197, 94, 0.15);
            color: var(--success);
        }

        .method.post {
            background: rgba(99, 102, 241, 0.15);
            color: var(--accent);
        }

        .endpoint {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 1rem;
            color: var(--text-primary);
        }

        .api-card-body {
            padding: 1.5rem;
        }

        .api-desc {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        /* Parameters */
        .params-title {
            font-size: 0.875rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
        }

        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
        }

        .params-table th,
        .params-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .params-table th {
            background: var(--bg-secondary);
            color: var(--text-muted);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .params-table td {
            font-size: 0.875rem;
        }

        .param-name {
            font-family: 'Monaco', 'Menlo', monospace;
            color: var(--warning);
        }

        .param-type {
            color: var(--accent);
            font-size: 0.75rem;
        }

        /* Code Block */
        .code-block {
            background: var(--bg-secondary);
            border-radius: 0.5rem;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 1rem;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid var(--border);
        }

        .code-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .copy-btn {
            padding: 0.25rem 0.5rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 0.25rem;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        .code-content {
            padding: 1rem;
            overflow-x: auto;
        }

        .code-content pre {
            margin: 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.875rem;
            color: var(--text-primary);
            white-space: pre-wrap;
            word-break: break-all;
        }

        .code-content .comment {
            color: var(--text-muted);
        }

        .code-content .string {
            color: var(--success);
        }

        .code-content .number {
            color: var(--warning);
        }

        .code-content .key {
            color: var(--accent);
        }

        /* Response */
        .response-title {
            font-size: 0.875rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
            margin-top: 1rem;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            border-top: 1px solid var(--border);
            margin-top: 3rem;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            display: none;
            z-index: 1000;
        }

        .toast.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(10px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 1.75rem;
            }
            
            .back-btn {
                top: 1rem;
                left: 1rem;
                padding: 0.5rem 1rem;
            }
            
            .params-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <a href="/" class="back-btn">
        <i class="ri-arrow-left-line"></i>
        返回首页
    </a>

    <div class="container">
        <header class="header">
            <h1><i class="ri-code-s-slash-line"></i> API 文档</h1>
            <p>Proxy Pool RESTful API 接口说明</p>
        </header>

        <div class="base-url">
            <h3>Base URL</h3>
            <code id="base-url">https://your-domain.com</code>
        </div>

        <!-- 统计接口 -->
        <section class="api-section">
            <h2><i class="ri-bar-chart-line"></i> 统计接口</h2>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/stats</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">获取代理池统计信息，包括总数、高速匿名数量、普通代理数量、检测状态等。</p>
                    
                    <div class="response-title">响应示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">JSON</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>{
  <span class="key">"total"</span>: <span class="number">45000</span>,
  <span class="key">"alive"</span>: <span class="number">42000</span>,
  <span class="key">"elite"</span>: <span class="number">35000</span>,
  <span class="key">"normal"</span>: <span class="number">7000</span>,
  <span class="key">"countries"</span>: [<span class="string">"US"</span>, <span class="string">"CN"</span>, <span class="string">"DE"</span>, ...],
  <span class="key">"protocols"</span>: [<span class="string">"http"</span>, <span class="string">"socks5"</span>, ...],
  <span class="key">"checking"</span>: <span class="number">false</span>,
  <span class="key">"lastCheckTime"</span>: <span class="string">"2024-01-01T12:00:00Z"</span>
}</pre>
                        </div>
                    </div>

                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">cURL</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>curl -X GET "https://your-domain.com/api/stats"</pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">Python</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>import requests

response = requests.get(<span class="string">"https://your-domain.com/api/stats"</span>)
data = response.json()
print(<span class="string">f"总代理数: {data['total']}"</span>)
print(<span class="string">f"高速匿名: {data['elite']}"</span>)</pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 代理列表接口 -->
        <section class="api-section">
            <h2><i class="ri-list-check"></i> 代理列表接口</h2>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/proxies</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">获取代理列表，支持按国家、协议、匿名度筛选。</p>
                    
                    <div class="params-title">请求参数</div>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>必填</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="param-name">country</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>国家代码，如 US、CN、DE</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">protocol</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>协议类型：http、https、socks4、socks5</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">anonymity</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>匿名度：elite、anonymous、transparent</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">cURL</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre><span class="comment"># 获取所有代理</span>
curl "https://your-domain.com/api/proxies"

<span class="comment"># 获取美国的 SOCKS5 代理</span>
curl "https://your-domain.com/api/proxies?country=US&protocol=socks5"</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/elite</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">获取高速匿名代理列表。这些代理经过存活检测，速度快且匿名性高。</p>
                    
                    <div class="params-title">请求参数</div>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>必填</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="param-name">protocol</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>协议筛选</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">limit</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>数量限制，或 "all" 获取全部</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">Python</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>import requests

<span class="comment"># 获取所有高速匿名代理</span>
response = requests.get(<span class="string">"https://your-domain.com/api/elite?limit=all"</span>)
proxies = response.json()[<span class="string">"data"</span>]

for proxy in proxies[:10]:
    print(<span class="string">f"{proxy['ip']}:{proxy['port']}"</span>)</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/normal</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">获取普通代理列表。</p>
                    
                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">cURL</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>curl "https://your-domain.com/api/normal?limit=100"</pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 导出接口 -->
        <section class="api-section">
            <h2><i class="ri-download-line"></i> 导出接口</h2>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/export</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">导出代理列表，支持 TXT 和 JSON 格式，可按协议、速度筛选。</p>
                    
                    <div class="params-title">请求参数</div>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>必填</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="param-name">protocol</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>http、https、socks4、socks5</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">speed</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>fast、good、slow</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">limit</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>数量或 "all"</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">format</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>txt (默认) 或 json</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">cURL</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre><span class="comment"># 导出所有 HTTP 代理 (TXT 格式)</span>
curl "https://your-domain.com/api/export?protocol=http&limit=all" -o http_proxies.txt

<span class="comment"># 导出快速 SOCKS5 代理 (JSON 格式)</span>
curl "https://your-domain.com/api/export?protocol=socks5&speed=fast&format=json"

<span class="comment"># 导出所有代理</span>
curl "https://your-domain.com/api/export?limit=all" -o all_proxies.txt</pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">Python - 下载代理文件</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>import requests

<span class="comment"># 下载 HTTP 代理列表</span>
url = <span class="string">"https://your-domain.com/api/export?protocol=http&limit=all"</span>
response = requests.get(url)

with open(<span class="string">"http_proxies.txt"</span>, <span class="string">"w"</span>) as f:
    f.write(response.text)

print(<span class="string">f"已保存 {len(response.text.splitlines())} 个代理"</span>)</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/random</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">获取随机代理。</p>
                    
                    <div class="params-title">请求参数</div>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>必填</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="param-name">protocol</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>协议筛选</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">speed</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>否</td>
                                <td>速度筛选</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">count</span></td>
                                <td><span class="param-type">number</span></td>
                                <td>否</td>
                                <td>数量 (最大 50)</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">Python - 使用随机代理</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>import requests

<span class="comment"># 获取一个随机快速代理</span>
response = requests.get(<span class="string">"https://your-domain.com/api/random?speed=fast"</span>)
proxy = response.json()

<span class="comment"># 使用这个代理发起请求</span>
proxies = {
    <span class="string">"http"</span>: <span class="string">f"http://{proxy['ip']}:{proxy['port']}"</span>,
    <span class="string">"https"</span>: <span class="string">f"http://{proxy['ip']}:{proxy['port']}"</span>
}

target = requests.get(<span class="string">"https://httpbin.org/ip"</span>, proxies=proxies, timeout=10)
print(target.text)</pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 操作接口 -->
        <section class="api-section">
            <h2><i class="ri-settings-3-line"></i> 操作接口</h2>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method post">POST</span>
                    <span class="endpoint">/api/refresh</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">刷新代理源，从所有配置的代理源重新获取代理列表。</p>
                    
                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">cURL</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>curl -X POST "https://your-domain.com/api/refresh"</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method post">POST</span>
                    <span class="endpoint">/api/check</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">触发代理存活检测。检测完成后会自动分类高速匿名代理和普通代理。</p>
                    
                    <div class="response-title">调用示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">Python</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>import requests
import time

<span class="comment"># 触发检测</span>
requests.post(<span class="string">"https://your-domain.com/api/check"</span>)

<span class="comment"># 轮询检测进度</span>
while True:
    progress = requests.get(<span class="string">"https://your-domain.com/api/check-progress"</span>).json()
    if not progress[<span class="string">"checking"</span>]:
        print(<span class="string">"检测完成!"</span>)
        break
    print(<span class="string">f"进度: {progress['current']}/{progress['total']}"</span>)
    time.sleep(2)</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="api-card">
                <div class="api-card-header">
                    <span class="method get">GET</span>
                    <span class="endpoint">/api/check-progress</span>
                </div>
                <div class="api-card-body">
                    <p class="api-desc">获取当前检测进度。</p>
                    
                    <div class="response-title">响应示例</div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-label">JSON</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<pre>{
  <span class="key">"checking"</span>: <span class="number">true</span>,
  <span class="key">"current"</span>: <span class="number">15000</span>,
  <span class="key">"total"</span>: <span class="number">45000</span>
}</pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <p>Vx: 1837620622 (传康kk) | Email: 2040168455@qq.com | B站/咸鱼: 万能程序员</p>
        </footer>
    </div>

    <div id="toast" class="toast">已复制到剪贴板!</div>

    <script>
        // 自动设置 Base URL
        document.getElementById('base-url').textContent = window.location.origin;

        // 复制代码
        function copyCode(btn) {
            const codeBlock = btn.closest('.code-block');
            const code = codeBlock.querySelector('pre').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const toast = document.getElementById('toast');
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            });
        }
    </script>
</body>
</html>
